webpackJsonp([6],{cgWM:function(t,s){},dIqY:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("gyMJ"),i={name:"Register",mixins:[e("i8ck").a],data:function(){return{username:"",email:"",password:"",password2:"",submitText:""}},methods:{submit:function(){var t=this;if((this.isShowResult=!1,!this.submitText)&&this.validateInfo()){var s={email:this.email,username:this.username,password:this.password};this.submitText="注册中...",Object(a.i)(s).then(function(s){0===s.code?0===s.data||2===s.data?t.registerSuccess():t.showResult("error","注册失败，该邮箱已注册"):t.showResult("error",s.msg),t.submitText=""})}},registerSuccess:function(){var t=this;this.showResult("success","注册成功，查看邮件并激活账号"),this.username="",this.email="",this.password="",this.password2="",setTimeout(function(){t.switchToLogin()},5e3)},validateInfo:function(){var t=this.username.trim();if(t.length<3||t.length>10)return this.showResult("error","用户名3~10个字符"),!1;return/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(this.email)?this.password?this.password===this.password2||(this.showResult("error","两次密码输入不一致"),!1):(this.showResult("error","请输入密码"),!1):(this.showResult("error","邮箱格式不正确"),!1)},switchToLogin:function(){this.$router.push("login")}}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"register"},[t._m(0),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowResult,expression:"isShowResult"}],staticClass:"register-result",class:t.resultClassName},[e("p",[e("span",[t._v(t._s(t.resultText))]),t._v(" "),e("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.isShowResult=!1}}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"register-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",[t._v("用户名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("邮箱")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",autocomplete:"email"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("密码")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",autocomplete:""},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("确认密码")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],attrs:{type:"password",autocomplete:""},domProps:{value:t.password2},on:{input:function(s){s.target.composing||(t.password2=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{attrs:{type:"button",value:t.submitText||"注册"},on:{click:function(s){return t.submit()}}})])])]),t._v(" "),e("p",{staticClass:"create-account"},[e("span",[t._v("已有账号？")]),t._v(" "),e("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.switchToLogin()}}},[t._v("点击登录")])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"register-header"},[s("h1",[this._v("注册")])])}]};var o=e("C7Lr")(i,r,!1,function(t){e("cgWM")},"data-v-18da0add",null);s.default=o.exports},i8ck:function(t,s,e){"use strict";e.d(s,"a",function(){return a});var a={data:function(){return{resultType:"",resultText:"",isShowResult:!1}},computed:{resultClassName:function(){return this.resultType}},methods:{showResult:function(t,s){this.resultType=t,this.resultText=s,this.isShowResult=!0}}}}});